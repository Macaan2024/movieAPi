{"ast":null,"code":"import Header from\"./components/Header\";import MovieList from\"./components/MovieList\";import React,{useState,useEffect}from\"react\";import Search from\"./components/Search\";import ButtonPrevious from\"./components/ButtonPrevious\";import ButtonNext from'./components/ButtonNext';import PaginationNumbers from\"./components/PaginationNumbers\";import MovieCategory from'./components/MovieCategory';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const[movies,setMovies]=useState([]);const[search,setSearch]=useState(\"Batman\");const[currentPage,setCurrentPage]=useState(1);const[error,setError]=useState(\"\");const[selectedMovie,setSelectedMovie]=useState(null);const[movieCategory,setMovieCategory]=useState(\"\");const fetchMovies=async()=>{const url=`http://www.omdbapi.com/?s=${search}&apikey=8c9ec521&page=${currentPage}${movieCategory!==''?`&type=${movieCategory}`:''}`;const response=await fetch(url);const responseToJson=await response.json();if(responseToJson.Response===\"True\"){setMovies(responseToJson.Search);setError(\"\");}else{setMovies([]);setError(\"No Movies Found\");}};useEffect(()=>{fetchMovies();},[search,currentPage,movieCategory]);// Fetch when `search` or `pagination` changes\nconst handleHomeCLick=()=>{setSelectedMovie(null);setSearch(\"batman\");};return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(Header,{onHomeClick:handleHomeCLick}),selectedMovie===null&&/*#__PURE__*/_jsx(Search,{search:search,setSearch:setSearch}),/*#__PURE__*/_jsx(\"p\",{className:\"text-center text-red-500\",children:error}),/*#__PURE__*/_jsxs(\"div\",{className:\"2xl mt-10 mb-12\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"sm:container sm:mx-auto mx-2 \",children:[/*#__PURE__*/_jsx(MovieCategory,{setMovieCategory:setMovieCategory,movieCategory:movieCategory}),/*#__PURE__*/_jsx(MovieList,{movies:movies,setSelectedMovie:setSelectedMovie,selectedMovie:selectedMovie})]}),selectedMovie===null&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-center gap-5 items-center mt-4 w-full\",children:[/*#__PURE__*/_jsx(ButtonPrevious,{onClick:()=>setCurrentPage(currentPage>1?currentPage-1:1)}),/*#__PURE__*/_jsx(PaginationNumbers,{setCurrentPage:setCurrentPage,currentPage:currentPage}),/*#__PURE__*/_jsx(ButtonNext,{onClick:()=>setCurrentPage(currentPage+1)})]})]})]});}export default App;","map":{"version":3,"names":["Header","MovieList","React","useState","useEffect","Search","ButtonPrevious","ButtonNext","PaginationNumbers","MovieCategory","jsx","_jsx","jsxs","_jsxs","App","movies","setMovies","search","setSearch","currentPage","setCurrentPage","error","setError","selectedMovie","setSelectedMovie","movieCategory","setMovieCategory","fetchMovies","url","response","fetch","responseToJson","json","Response","handleHomeCLick","className","children","onHomeClick","onClick"],"sources":["C:/Users/user/Desktop/movieAPi/src/App.js"],"sourcesContent":["import Header from \"./components/Header\";\r\nimport MovieList from \"./components/MovieList\";\r\nimport React, { useState, useEffect } from \"react\";\r\nimport Search from \"./components/Search\";\r\nimport ButtonPrevious from \"./components/ButtonPrevious\";\r\nimport ButtonNext from './components/ButtonNext';\r\nimport PaginationNumbers from \"./components/PaginationNumbers\";\r\nimport MovieCategory from './components/MovieCategory';\r\n\r\nfunction App() {\r\n  const [movies, setMovies] = useState([]);\r\n  const [search, setSearch] = useState(\"Batman\");\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const [error, setError] = useState(\"\");\r\n  const [selectedMovie, setSelectedMovie] = useState(null);\r\n  const [movieCategory, setMovieCategory] = useState(\"\");\r\n \r\n  const fetchMovies = async () => {\r\n    const url = `http://www.omdbapi.com/?s=${search}&apikey=8c9ec521&page=${currentPage}${movieCategory !== '' ? `&type=${movieCategory}` : ''}`;\r\n    const response = await fetch(url);\r\n    const responseToJson = await response.json();\r\n\r\n    if (responseToJson.Response === \"True\") {\r\n      setMovies(responseToJson.Search);\r\n      setError(\"\");\r\n    } else {\r\n      setMovies([]);\r\n      setError(\"No Movies Found\");\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchMovies();\r\n  }, [search, currentPage, movieCategory]); // Fetch when `search` or `pagination` changes\r\n\r\n  const handleHomeCLick = () => {\r\n    setSelectedMovie(null);\r\n    setSearch(\"batman\");\r\n  } \r\n\r\n\r\n  return (\r\n    <div className=\"App\"> \r\n      <Header onHomeClick={handleHomeCLick} />\r\n      {selectedMovie === null && (<Search search={search} setSearch={setSearch} />)}\r\n      <p className=\"text-center text-red-500\">{error}</p>\r\n      <div className=\"2xl mt-10 mb-12\">\r\n        <div className=\"sm:container sm:mx-auto mx-2 \">\r\n          <MovieCategory setMovieCategory={setMovieCategory} movieCategory={movieCategory}/>\r\n          <MovieList movies={movies} setSelectedMovie={setSelectedMovie} selectedMovie={selectedMovie} />\r\n        </div>\r\n      {selectedMovie === null && (\r\n        <div className=\"flex justify-center gap-5 items-center mt-4 w-full\">\r\n          <ButtonPrevious onClick={() => setCurrentPage(currentPage > 1 ? currentPage - 1 : 1)}   />\r\n          <PaginationNumbers setCurrentPage = {setCurrentPage} currentPage={currentPage}  />\r\n          <ButtonNext onClick={() => setCurrentPage(currentPage + 1)} />\r\n        </div>\r\n      )}\r\n        \r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}